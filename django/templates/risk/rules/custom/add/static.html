<div id='rule_static' class="rule card-body shadow mt-4" style= "border-radius:20px; display:none;">
    <div class='row'>
        <h5 class='text-teiren font-weight-bold ml-3 mt-2'>Static 정책 설정</h5>
        <div class="ml-auto">
            <button type="button" class="btn btn-md btn-danger" style="border-radius:40px" onclick="deleteSection('static')"><i class="fas fa-trash-can"></i></button>
        </div>
    </div>
    <div class="content">
        <div class="form-group row text-center">
            <div class="col-sm-6 mb-sm-1">
                <span>정책 이름</span>
                <input type="text-area" class="form-control form-control-user" name="ruleName_static" placeholder="정책 이름 설정">
            </div>
            <div class="col-sm-6">
                <span>정책 설명</span>
                <input type="text-area" class="form-control form-control-user" name="ruleComment_static" placeholder="정책 설명">
            </div>
        </div>
        <div id="properties">
            <div id="property1" class="form-group row text-center prop">
                <div class="text-center col-4 mb-1">
                    <span class="pr-3">정책 속성 1</span>
                    <br>
                    <select id ="property_key_1" name="property_key_1" class="btn btn-md" style="background-color:#FFFFFF; border-color:#E5E5E5; width:100%;">
                        <option>정책 속성 1</option>
                        <option>새로운 정책 속성</option>
                        {% for property in log_properties %}
                        {% if property == "eventSource" %}
                        {% else %}
                        <option value={{property}}>{{property}}</option>
                        {% endif %}
                        {% endfor%}
                    </select>
                </div>
                <div class="col-2">
                    <select id="property_op_1" name="property_op_1" class="btn btn-md mt-3 pl-0" style="background-color:#FFFFFF; border-color:#E5E5E5; width:100%;">
                        <option>=</option>
                        <option><></option>
                        <option>CONTAINS</option>
                    </select>
                </div>
                <div class="col-5">
                    <span>정책 속성 값 1</span>
                    <input type="text-area" class="form-control form-control-user" id="property_val_1" name="property_val_1" placeholder="정책 속성 값 1">
                </div>
                <div class="col-1 d-flex align-items-center justify-content-center px-0">
                    <button type="button" class="btn btn-teiren btn-sm" style="border-radius:40px" onclick="addProperty('{{cloud}}')">+</button>
                </div>
            </div>
        </div>
        <div class="form-group row text-center">
            <div class="col-sm-6 mb-sm-1">
                <span>탐지 횟수</span>
                <input type="text-area" class="form-control form-control-user" name="ruleName_static" placeholder="정책 탐지 횟수 지정 (횟수 이상일 때 탐지)">
            </div>
            <div class="col-sm-6">
                <span>탐지 시간 범위</span>
                <input type="text-area" class="form-control form-control-user" name="ruleComment_static" placeholder="탐지 시간 범위 (초단위)">
            </div>
        </div>
    </div>
    <script>
        $(function(){
            $("#property_key_1").on("change", function(){
                if($(this).val() === "새로운 정책 속성"){
                    $("#properties").find("#property1").append(`
                    <div id="property_key_custom_1" class="col-4">
                        <span>새로운 정책 속성 1</span>
                        <input type="text-area" class="form-control form-control-user" name="property_key_1" placeholder="새로운 정책 속성 1">
                    </div>
                    `)
                }
                else{
                    if($("#property_key_custom_1").length > 0){
                        $("#property_key_custom_1").remove()
                    }
                }
            })
        })
    </script>
</div>
