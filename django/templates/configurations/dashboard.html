{% extends 'base.html' %}
{% load static %}
{% block head %}
<!-- Chart.js-->
<script src="{% static '/plugin/chart.js/Chart.bundle.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>

<!-- Cytoscape.js -->
<script src="{% static '/plugin/cytoscape.js/WebCola/cola.min.js' %}"></script>
<script src="https://unpkg.com/popper.js@1.14.4/dist/umd/popper.js"></script>
<script src="https://unpkg.com/tippy.js@2.6.0/dist/tippy.all.js"></script>
<script src="https://unpkg.com/cytoscape@3.18.0/dist/cytoscape.min.js"></script>
<script src="https://unpkg.com/cytoscape-cola@2.2.3/cytoscape-cola.js"></script>
<script src="https://unpkg.com/cytoscape-popper@1.0.2/cytoscape-popper.js"></script>
<script src="https://cdn.jsdelivr.net/npm/cytoscape-euler@1.2.2/cytoscape-euler.min.js"></script>
<script src="https://unpkg.com/bluebird@3.5.2/js/browser/bluebird.js"></script>

<!-- Jquery-ui -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<!-- Gridstack -->
<link rel="stylesheet" href="{% static '/plugin/gridstack/gridstack.css' %}">
<script src="{% static '/plugin/gridstack/gridstack-all.js' %}"></script>

<!-- Page Essential -->
<link rel="stylesheet" href="{% static '/configurations/css/dashboard.css' %}">
{% endblock %}
{% block content %}
<div id="layoutInfo">
    <div id="layoutName" class="text-teiren"></div>
    <div id="layoutbtns" style="display:none;">
        <button class="btn btn-outline-teiren mx-2 ml-auto" onclick="toggleLayoutSidebar()">레이아웃 선택</button>
        <button class="btn btn-outline-teiren mx-2" onclick="toggleItemSidebar()">위젯 추가</button>
        <button class="btn btn-outline-teiren mx-2 mr-auto" onclick="resetLayout()">초기화</button>
        <button class="btn btn-outline-teiren savebtn mx-2 ml-auto" onclick="saveLayout()" disabled>저장</button>
        <button class="btn btn-outline-teiren" id="defaultCheckbox">기본으로 저장</button>
        <button class="btn btn-outline-teiren savebtn mx-2 mr-auto" data-toggle="modal" data-target="#newLayout-modal" disabled>다른 이름으로 저장</button>
    </div>
</div>
<br>
<div class="grid-stack"></div>
<div id="delete-box">Drop here to delete</div>
<div id="layoutSidebar">        
    <div class="row mb-2">
        <h3>레이아웃</h3>
        <button class="btn btn-sm btn-outline-teiren ml-2" onclick="editLayout()">설정</button>
        <button class="btn closebtn btn-danger" onclick="closeSidebar(this)">X</button>
    </div>
    <!-- Add more content here -->
    <div id='layoutList'></div>
    <button class="btn btn-teiren" data-toggle="modal" data-target="#newLayout-modal">새로운 레이아웃 만들기</button>
</div>
<div id="itemSidebar">        
    <div class="row mb-2">
        <h2>위젯</h2>
        <button class="btn closebtn btn-danger" onclick="closeSidebar(this)">X</button>
    </div>
    <!-- Add more content here -->
    <div id='itemList'></div>
</div>

<!-- New Layout Modal -->
<div class="modal fade card-body" id="newLayout-modal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content p-1" style='width:1000px; height:auto'>
            <div class='d-flex justify-content-end p-3'>
                <button type="button" class=close data-dismiss="modal" aria-label="Close">x</button>
            </div>
            <div class="modal-body justify-content-center text-center" id='detail'>
                <div class="form-group text-teiren"><h2>새로운 레이아웃의 이름을 입력해주세요</h2>
                    <div class="form-group text-dark mt-3 d-flex justify-content-center">
                        <input type='text' class="form-control w-75" id="newLayoutName" name="newLayoutName" placeholder="레이아웃 이름 입력"/>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-teiren" data-dismiss="modal" onclick="newLayout()">저장</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">취소</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
{% block script %}
<script src="{% static '/configurations/js/dashboard.js' %}"></script>
{% endblock %}